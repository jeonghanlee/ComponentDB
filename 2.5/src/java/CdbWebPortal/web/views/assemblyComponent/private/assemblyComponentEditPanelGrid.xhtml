<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <ui:param name="assemblyComponentObject" value="#{assemblyComponentController.selected}"/>

    <p:panelGrid id="assemblyComponentEditPanelGrid" columns="4" styleClass="editEntityDetails">

        <h:outputLabel for="assemblyComponent" value="Component" 
                       styleClass="entityDataEmphasizedLabel"/>
        <p:column id="assemblyComponent">
            <p:autoComplete id="assemblyComponentDropdown" 
                            value="#{assemblyComponentObject.component}" 
                            var="componentObject"
                            converter="componentConverter" 
                            completeMethod="#{assemblyComponentController.completeComponent}" 
                            itemLabel="#{componentObject.name}"
                            itemValue="#{componentObject}"
                            forceSelection="true"
                            scrollHeight="200"
                            dropdown="true" 
                            styleClass="autocomplete">
                <p:ajax event="itemSelect" listener="#{assemblyComponentController.selectComponentListener}"/>
                <p:ajax event="itemUnselect" listener="#{assemblyComponentController.unselectComponentListener}"/>
            </p:autoComplete>

            <p:commandButton id="assemblyComponentSelectButton"
                             action="#{componentController.clearSelectFiltersAndResetSelectDataModel()}" 
                             oncomplete="PF('assemblyComponentSelectDialogWidget').show()"
                             update="@form"
                             alt="Select Component" 
                             styleClass="selectButtonForAutocomplete"
                             icon="ui-icon-search">
                <f:setPropertyActionListener target="#{assemblyComponentController.current}" value="#{assemblyComponentObject}" />
                <f:setPropertyActionListener target="#{componentController.selectedComponent}" value="#{assemblyComponentObject.component}"/>
                <p:tooltip for="assemblyComponentSelectButton" value="Search for component."/>
            </p:commandButton>
        </p:column>
        <p:message for="assemblyComponent"/>
        <p:tooltip for="assemblyComponentDropdown" value="Select assembly component."/> 

        <h:outputLabel for="assembly" value="Assembly" styleClass="entityDataEmphasizedLabel"/>
        <h:outputText id="assembly" value="#{assemblyComponentObject.assembly.displayNameWithTypeAndCategory}" title="Name" styleClass="entityDataEmphasizedText"/>
        <p:message for="assembly"/>
        <p:tooltip for="assembly" value="Assembly cannot be modified."/> 

        <h:outputLabel for="sortOrder" value="Sort Order" styleClass="entityDataLabel"/>
        <h:inputText id="sortOrder" value="#{assemblyComponentObject.sortOrder}" title="Sort Order" styleClass="entityDataText"/>
        <p:message for="sortOrder"/> 
        <p:tooltip for="sortOrder" value="Enter sort order."/>

        <h:outputLabel for="description" value="Description" styleClass="entityDataLabel"/>
        <h:inputTextarea id="description" value="#{assemblyComponentObject.description}" title="Description" styleClass="entityDataText"/>
        <p:message for="description"/> 
        <p:tooltip for="description" value="Enter description."/>

        <h:outputLabel for="id" value="Id" styleClass="entityDataLabel"/>
        <h:outputText id="id" value="#{assemblyComponentObject.id}" title="Id" styleClass="entityDataText"/>
        <p:message for="id"/> 
        <p:tooltip for="id" value="Assembly component id cannot be modified."/>

    </p:panelGrid>

    <ui:include src="assemblyComponentSelectDialog.xhtml">
        <ui:param name="updateTarget" value="assemblyComponentEditPanelGrid"/>
    </ui:include>
    <ui:include src="assemblyComponentSelectCustomizeDisplayDialog.xhtml"/>

</ui:composition>


