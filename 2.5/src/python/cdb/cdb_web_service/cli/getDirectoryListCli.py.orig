#!/usr/bin/env python

from cdbWebServiceCli import CdbWebServiceCli
from cdb.cdb_web_service.api.fileSystemRestApi import FileSystemRestApi

class GetDirectoryListCli(CdbWebServiceCli):
    def __init__(self):
        CdbWebServiceCli.__init__(self)
        self.addOption('', '--path', dest='path', help='Directory path.')

    def runCommand(self):
        self.parseArgs(usage="""
            get-directory-list --path=PATH

            Description:
                Retrieves directory listing.
        """)
        api = FileSystemRestApi(self.getUsername(), self.getPassword(), self.getServiceHost(), self.getServicePort(), self.getServiceProtocol())
        print api.getDirectoryList(self

#######################################################################
# Run command.
if __name__ == '__main__':
    cli = GetDirectoryListCli()
    cli.run()
